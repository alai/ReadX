<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReadX æ’ä»¶æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            line-height: 1.6;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #1d9bf0;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
        }
        .test-button:hover {
            background: #1a8cd8;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 6px;
            font-weight: 500;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        .status.info { background: #d1ecf1; color: #0c5460; }
        .mock-tweet {
            border: 1px solid #e1e8ed;
            border-radius: 12px;
            padding: 16px;
            margin: 20px 0;
            background: #ffffff;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 12px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§ª ReadX Chrome æ’ä»¶æµ‹è¯•é¡µé¢</h1>
        
        <div class="status info">
            <strong>æµ‹è¯•ç¯å¢ƒï¼š</strong>æœ¬é¡µé¢ç”¨äºæµ‹è¯•æ’ä»¶çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ— éœ€å®é™…å®‰è£…åˆ°Chromeã€‚
        </div>

        <h2>ğŸ“ å®‰è£…è¯´æ˜</h2>
        <ol>
            <li>æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œè®¿é—® <code>chrome://extensions/</code></li>
            <li>å¼€å¯å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"</li>
            <li>ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"</li>
            <li>é€‰æ‹©åŒ…å« ReadX æ’ä»¶æ–‡ä»¶çš„æ–‡ä»¶å¤¹</li>
            <li>è®¿é—® X.com çš„ä»»æ„æ¨æ–‡é¡µé¢</li>
            <li>ç‚¹å‡»å·¥å…·æ ä¸­çš„ ReadX å›¾æ ‡</li>
        </ol>

        <h2>ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•</h2>
        
        <div class="mock-tweet" data-testid="tweet">
            <div class="mock-user" data-testid="User-Name">æµ‹è¯•ç”¨æˆ· Test User</div>
            <div class="mock-text" data-testid="tweetText">
                è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„æ¨æ–‡å†…å®¹ï¼Œç”¨äºæµ‹è¯•æ’ä»¶çš„å†…å®¹æå–åŠŸèƒ½ã€‚
                
                åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«å’Œæå– X.com é¡µé¢ä¸Šçš„æ¨æ–‡å†…å®¹ï¼Œ
                åŒ…æ‹¬ç”¨æˆ·ä¿¡æ¯ã€æ¨æ–‡æ–‡æœ¬ã€äº’åŠ¨æ•°æ®ç­‰ã€‚
                
                æ’ä»¶æ”¯æŒå¤šç§è‡ªå®šä¹‰é€‰é¡¹ï¼š
                - å­—ä½“å¤§å°è°ƒèŠ‚
                - è¡Œè·è°ƒèŠ‚  
                - é¡µé¢å®½åº¦è°ƒèŠ‚
                - æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
            </div>
            <time datetime="2025-10-06T10:00:00.000Z">10:00 AM Â· Oct 6, 2025</time>
        </div>

        <button class="test-button" onclick="testContentExtraction()">æµ‹è¯•å†…å®¹æå–</button>
        <button class="test-button" onclick="testReadingMode()">æ¨¡æ‹Ÿé˜…è¯»æ¨¡å¼</button>
        <button class="test-button" onclick="testSettings()">æµ‹è¯•è®¾ç½®ä¿å­˜</button>

        <div id="test-results"></div>

        <h2>ğŸ“¦ å·²åˆ›å»ºçš„æ–‡ä»¶</h2>
        <div class="code-block">
ReadX/
â”œâ”€â”€ manifest.json          # æ’ä»¶é…ç½®æ–‡ä»¶ âœ…
â”œâ”€â”€ background.js          # åå°æœåŠ¡è„šæœ¬ âœ…  
â”œâ”€â”€ content.js            # å†…å®¹è„šæœ¬ï¼ˆä¸»è¦é€»è¾‘ï¼‰âœ…
â”œâ”€â”€ content.css           # é˜…è¯»æ¨¡å¼æ ·å¼ âœ…
â”œâ”€â”€ README.md            # å®‰è£…ä½¿ç”¨è¯´æ˜ âœ…
â”œâ”€â”€ icons/               # å›¾æ ‡ç›®å½• âœ…
â”‚   â””â”€â”€ README.txt       # å›¾æ ‡è¯´æ˜
â”œâ”€â”€ test_page.html       # æµ‹è¯•é¡µé¢ï¼ˆå½“å‰é¡µé¢ï¼‰âœ…
â””â”€â”€ åˆ†ææ–‡ä»¶/
    â”œâ”€â”€ feasibility_report.md  # å¯è¡Œæ€§åˆ†ææŠ¥å‘Š
    â”œâ”€â”€ tweet_extractor.js     # æå–å™¨ï¼ˆç‹¬ç«‹ç‰ˆæœ¬ï¼‰
    â”œâ”€â”€ test_extraction.html   # åŠŸèƒ½æ¼”ç¤ºé¡µé¢
    â””â”€â”€ ex_*.html              # åŸå§‹æµ‹è¯•æ•°æ®
        </div>

        <h2>ğŸ¯ ä½¿ç”¨æŒ‡å—</h2>
        <div class="status success">
            <strong>ç¬¬ä¸€ç‰ˆæ’ä»¶å·²å®Œæˆï¼</strong>åŒ…å«äº†æ‰€æœ‰è¦æ±‚çš„æ ¸å¿ƒåŠŸèƒ½ï¼š
            <ul>
                <li>âœ… æ™ºèƒ½å†…å®¹æå–ï¼ˆåŸºäº data-testid å’Œè¯­ä¹‰åŒ–HTMLï¼‰</li>
                <li>âœ… åŒå‡»ESCæˆ–ç‚¹å‡»XæŒ‰é’®é€€å‡ºé˜…è¯»æ¨¡å¼</li>
                <li>âœ… å­—ä½“ã€è¡Œè·ã€å®½åº¦ã€å­—å·è‡ªå®šä¹‰</li>
                <li>âœ… Light/Dark ä¸»é¢˜åˆ‡æ¢</li>
                <li>âœ… è®¾ç½®æŒä¹…åŒ–ä¿å­˜</li>
                <li>âœ… å“åº”å¼è®¾è®¡æ”¯æŒ</li>
            </ul>
        </div>

        <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
        <ul>
            <li><strong>å›¾æ ‡æ–‡ä»¶</strong>: éœ€è¦åˆ›å»ºå®é™…çš„PNGå›¾æ ‡æ–‡ä»¶æ›¿æ¢ icons/ ç›®å½•ä¸‹çš„å ä½ç¬¦</li>
            <li><strong>æµ‹è¯•ç¯å¢ƒ</strong>: å»ºè®®åœ¨å®é™…çš„ X.com é¡µé¢ä¸Šæµ‹è¯•æ’ä»¶åŠŸèƒ½</li>
            <li><strong>æƒé™</strong>: æ’ä»¶åªè¯·æ±‚å¿…è¦çš„æƒé™ï¼ˆactiveTab, storageï¼‰</li>
            <li><strong>å…¼å®¹æ€§</strong>: æ”¯æŒ Chrome 88+ å’Œæœ€æ–°çš„ Manifest V3 æ ‡å‡†</li>
        </ul>

        <h2>ğŸš€ ä¸‹ä¸€æ­¥ä¼˜åŒ–å»ºè®®</h2>
        <ul>
            <li>ğŸ¨ è®¾è®¡ä¸“ä¸šçš„æ’ä»¶å›¾æ ‡</li>
            <li>ğŸ§ª åœ¨æ›´å¤šä¸åŒç±»å‹çš„æ¨æ–‡ä¸Šæµ‹è¯•</li>
            <li>ğŸ“± ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ</li>
            <li>ğŸ”§ æ·»åŠ æ›´å¤šè‡ªå®šä¹‰é€‰é¡¹ï¼ˆå¦‚å­—ä½“ç³»åˆ—ï¼‰</li>
            <li>ğŸŒ è€ƒè™‘å›½é™…åŒ–æ”¯æŒ</li>
            <li>ğŸ“Š æ·»åŠ ä½¿ç”¨ç»Ÿè®¡ï¼ˆå¯é€‰ï¼‰</li>
        </ul>
    </div>

    <script>
        // æ¨¡æ‹Ÿå†…å®¹æå–æµ‹è¯•
        function testContentExtraction() {
            const resultsDiv = document.getElementById('test-results');
            
            try {
                // æ¨¡æ‹Ÿæå–é€»è¾‘
                const mockTweet = document.querySelector('[data-testid="tweet"]');
                const userName = mockTweet.querySelector('[data-testid="User-Name"]')?.textContent;
                const tweetText = mockTweet.querySelector('[data-testid="tweetText"]')?.textContent;
                const timestamp = mockTweet.querySelector('time')?.getAttribute('datetime');
                
                const result = {
                    user: { name: userName },
                    text: { text: tweetText?.slice(0, 100) + '...' },
                    timestamp: { datetime: timestamp }
                };
                
                resultsDiv.innerHTML = `
                    <div class="status success">
                        <strong>âœ… å†…å®¹æå–æµ‹è¯•æˆåŠŸ</strong><br>
                        ç”¨æˆ·: ${result.user.name}<br>
                        å†…å®¹: ${result.text.text}<br>
                        æ—¶é—´: ${result.timestamp.datetime}
                    </div>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="status error">
                        <strong>âŒ å†…å®¹æå–æµ‹è¯•å¤±è´¥</strong><br>
                        é”™è¯¯: ${error.message}
                    </div>
                `;
            }
        }

        // æ¨¡æ‹Ÿé˜…è¯»æ¨¡å¼æµ‹è¯•
        function testReadingMode() {
            const resultsDiv = document.getElementById('test-results');
            
            resultsDiv.innerHTML = `
                <div class="status info">
                    <strong>ğŸ“– é˜…è¯»æ¨¡å¼åŠŸèƒ½é¢„è§ˆ</strong><br>
                    åœ¨å®é™…æ’ä»¶ä¸­ï¼Œç‚¹å‡»åä¼šï¼š<br>
                    1. æå–å½“å‰æ¨æ–‡å†…å®¹<br>
                    2. åˆ›å»ºå…¨å±é˜…è¯»ç•Œé¢<br>
                    3. åº”ç”¨ç”¨æˆ·è‡ªå®šä¹‰æ ·å¼<br>
                    4. æ”¯æŒESCé€€å‡ºå’Œå„ç§æ§åˆ¶<br>
                    <br>
                    <em>è¯·åœ¨ X.com é¡µé¢ä¸Šå®‰è£…æ’ä»¶è¿›è¡Œå®é™…æµ‹è¯•</em>
                </div>
            `;
        }

        // æ¨¡æ‹Ÿè®¾ç½®æµ‹è¯•
        function testSettings() {
            const resultsDiv = document.getElementById('test-results');
            
            // æ¨¡æ‹Ÿè®¾ç½®ä¿å­˜
            const mockSettings = {
                theme: 'dark',
                fontSize: 20,
                lineHeight: 1.6,
                maxWidth: 650,
                fontFamily: 'serif'
            };
            
            localStorage.setItem('readx-test-settings', JSON.stringify(mockSettings));
            
            resultsDiv.innerHTML = `
                <div class="status success">
                    <strong>ğŸ’¾ è®¾ç½®ä¿å­˜æµ‹è¯•æˆåŠŸ</strong><br>
                    å·²ä¿å­˜è®¾ç½®: ${JSON.stringify(mockSettings, null, 2)}<br>
                    <br>
                    åœ¨å®é™…æ’ä»¶ä¸­ï¼Œè®¾ç½®ä¼šé€šè¿‡ Chrome Storage API ä¿å­˜ï¼Œ
                    å¹¶åœ¨æ‰€æœ‰è®¾å¤‡é—´åŒæ­¥ã€‚
                </div>
            `;
        }

        // é¡µé¢åŠ è½½å®Œæˆæç¤º
        window.addEventListener('load', function() {
            console.log('ReadX æµ‹è¯•é¡µé¢å·²åŠ è½½');
            console.log('æ’ä»¶æ–‡ä»¶å·²åˆ›å»ºå®Œæˆï¼Œå¯ä»¥å¼€å§‹å®‰è£…æµ‹è¯•ï¼');
        });
    </script>
</body>
</html>